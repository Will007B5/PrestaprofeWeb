"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[202],{4533:(e,t,r)=>{r.d(t,{Z:()=>o});var s=r(3645),a=r.n(s)()((function(e){return e[1]}));a.push([e.id,"#alertUser[data-v-690e3ade]{bottom:0;position:fixed;right:0;z-index:10}",""]);const o=a},9202:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var s=r(629);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const n={name:"DialogUser",data:function(){return{dialogUser:!0,isLoadingButton:!1,isSavedUser:!1}},methods:{closeDialog:function(){this.$emit("closeDialog")},guardar:function(){var e=this;this.isLoadingButton=!0,this.$store.dispatch("saveUser",this.user).then((function(t){null!=e.errors.length?(e.isSavedUser=!0,e.$emit("closeDialog"),e.$emit("isSavedUser",e.isSavedUser)):e.isLoadingButton=!1}))}},props:{user:{type:Object,required:!0}},computed:o(o({},(0,s.rn)({roles:function(e){return e.usersStore.roles},errors:function(e){return e.usersStore.errors}})),{},{title:function(){return 0==Object.keys(this.user).length?"Agregar Usuario":"Editar Usuario"}}),mounted:function(){}};var c=r(1900);const l=(0,c.Z)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-dialog",{attrs:{"max-width":"800px",persistent:""},model:{value:e.dialogUser,callback:function(t){e.dialogUser=t},expression:"dialogUser"}},[r("v-card",[r("v-card-title",{staticClass:"mb-4"},[e._v(e._s(e.title))]),e._v(" "),r("v-card-text",[r("v-row",[r("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{outlined:"",label:"Nombre(s)","error-messages":e.errors.name,"prepend-inner-icon":"mdi-form-textbox"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),r("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{outlined:"",label:"Apellidos","error-messages":e.errors.last_name,"append-icon":"","prepend-inner-icon":"mdi-form-textbox"},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}})],1),e._v(" "),r("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{type:"email",outlined:"",label:"Correo","error-messages":e.errors.email,"prepend-inner-icon":"mdi-email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),r("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[r("v-select",{attrs:{label:"Rol",items:e.roles,"item-text":"name","error-messages":e.errors.role,"item-value":"name",outlined:"","prepend-inner-icon":"mdi-account-convert"},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}})],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{loading:e.isLoadingButton},on:{click:e.guardar}},[e._v("Aceptar")]),e._v(" "),r("v-btn",{on:{click:e.closeDialog}},[e._v("Cancelar")])],1),e._v("\n            "+e._s(Object.keys(e.user).length)+"\n        ")],1)],1)],1)}),[],!1,null,null,null).exports;function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v={data:function(){return{search:"",headers:[{text:"Nombre(s)",value:"name"},{text:"Apellidos",value:"last_name"},{text:"Correo",value:"email"},{text:"Role",value:"role"},{text:"Estatus",value:"active"},{text:"Acciones",value:"actions"}],dialog:!1,usuarioSelected:"",dialogUsers:!1,user:{},alertSave:!1}},created:function(){this.$store.dispatch("getUsuarios"),this.$store.dispatch("getRoles")},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,s.rn)({usuarios:function(e){return e.usersStore.usuarios}})),methods:{cambiarEstatus:function(){var e=this.usuarios.map((function(e){return e.id})).indexOf(this.usuarioSelected);this.$store.dispatch("changeStatusUser",this.usuarios[e].id,e),this.dialog=!1},abrirDialogo:function(e){this.dialog=!0,this.usuarioSelected=e.id},openDialogUser:function(e){this.user=Object.assign({},e),this.dialogUsers=!0}},components:{DialogUser:l},updated:function(){}};var p=r(3379),m=r.n(p),f=r(4533),g={insert:"head",singleton:!1};m()(f.Z,g);f.Z.locals;const b=(0,c.Z)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-snackbar",{staticClass:"mb-2",attrs:{id:"alertUser",border:"right",color:"green",type:"success",transition:"scroll-y-transition",timeout:2e3},model:{value:e.alertSave,callback:function(t){e.alertSave=t},expression:"alertSave"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-check-circle")]),e._v("\n    El usuario se agrego correctamente")],1),e._v(" "),r("v-row",{staticClass:"m-0"},[r("v-col",{staticClass:"d-flex justify-end"},[r("v-btn",{attrs:{color:"blue"},on:{click:function(t){return e.openDialogUser({})}}},[e._v("Agregar")])],1)],1),e._v(" "),r("v-card",{staticClass:"mx-4"},[r("v-card-title",[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar...","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),r("v-card-text",[r("v-data-table",{attrs:{headers:e.headers,items:e.usuarios,"item-key":"id",search:e.search},scopedSlots:e._u([{key:"item.active",fn:function(t){var s=t.item;return[r("v-switch",{attrs:{color:"success",readonly:"",inset:""},on:{click:function(t){return e.abrirDialogo(s)}},model:{value:s.active,callback:function(t){e.$set(s,"active",t)},expression:"item.active"}})]}},{key:"item.actions",fn:function(t){var s=t.item;return[r("v-icon",{on:{click:function(t){return e.openDialogUser(s)}}},[e._v("mdi-account-edit")])]}}])})],1)],1),e._v(" "),r("v-dialog",{attrs:{persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[e._v("¿Estas seguro que deseas continuar con esta acción?")]),e._v(" "),r("v-card-text",[e._v("Al modificar el estatus del usuario, estarás permitiendo o negando al usuario poder acceder al sistema")]),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{text:"",color:"green"},on:{click:e.cambiarEstatus}},[e._v("Aceptar")]),e._v(" "),r("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")])],1)],1)],1),e._v(" "),e.dialogUsers?r("DialogUser",{attrs:{user:e.user},on:{closeDialog:function(t){e.dialogUsers=!1},isSavedUser:function(t){e.alertSave=t}}}):e._e()],1)}),[],!1,null,"690e3ade",null).exports}}]);