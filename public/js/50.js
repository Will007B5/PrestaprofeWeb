"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[50],{8927:(t,e,o)=>{o.d(e,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(t){return t[1]}));n.push([t.id,".contenedor[data-v-191521d4]{background:rgba(40,43,37,.726);height:100%;height:calc(100% - 64px);width:100%}.estiloPdf[data-v-191521d4]{display:block;height:100%;margin:0 auto;width:50%}",""]);const r=n},8792:(t,e,o)=>{o.d(e,{Z:()=>r});var a=o(3645),n=o.n(a)()((function(t){return t[1]}));n.push([t.id,"#btnHerramientas{background-color:#d1d1d1f3;color:#000;font-size:14px;text-transform:none}.cbBusqueda{font-size:10px}.contenedorHerramientas{background-color:#a39d9d4d}.colorPendiente{background-color:rgba(39,173,214,.26)!important}.colorPendiente:hover{background-color:hsla(0,0%,95%,.45)!important}.colorRevision{background-color:rgba(238,255,0,.26)!important}.colorRevision:hover{background-color:rgba(44,136,250,.4)!important}.colorActivo{background-color:rgba(33,228,49,.26)!important}.colorActivo:hover{background-color:rgba(33,228,49,.45)!important}.colorVencido{background-color:rgba(224,140,12,.26)!important}.colorVencido:hover{background-color:rgba(224,140,12,.45)!important}.colorCongelado{background-color:rgba(33,215,228,.26)!important}.colorCongelado:hover{background-color:rgba(33,215,228,.45)!important}.colorPagado{background-color:rgba(33,118,228,.26)!important}.colorPagado:hover{background-color:rgba(33,118,228,.45)!important}.colorRechazado{background-color:rgba(228,33,33,.26)!important}.colorRechazado:hover{background-color:rgba(228,33,33,.45)!important}",""]);const r=n},5050:(t,e,o)=>{o.r(e),o.d(e,{default:()=>y});var a=o(7757),n=o.n(a);function r(t,e,o,a,n,r,c){try{var i=t[r](c),s=i.value}catch(t){return void o(t)}i.done?e(s):Promise.resolve(s).then(a,n)}var c,i;const s={name:"DialogActionsLoans",data:function(){return{dialog:!0,pdfSrc:"http://127.0.0.1:8000/api/loan-pdf#toolbar=0"}},methods:{getPdf:(c=n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/api/loan-pdf");case 3:e=t.sent,console.log(e),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})),i=function(){var t=this,e=arguments;return new Promise((function(o,a){var n=c.apply(t,e);function i(t){r(n,o,a,i,s,"next",t)}function s(t){r(n,o,a,i,s,"throw",t)}i(void 0)}))},function(){return i.apply(this,arguments)}),closePdf:function(){this.dialog=!1}},created:function(){this.getPdf()}};var l=o(3379),d=o.n(l),u=o(8927),v={insert:"head",singleton:!1};d()(u.Z,v);u.Z.locals;var m=o(1900);const h=(0,m.Z)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{height:"100%"}},[o("v-dialog",{staticClass:"dialogo",attrs:{fullscreen:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-toolbar",{attrs:{color:"#006a82"}},[o("v-spacer"),t._v(" "),o("v-toolbar-title",{staticClass:"white--text"},[t._v("Detalles del préstamo / "),o("span",[t._v("#")])]),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{attrs:{icon:"",color:"white"}},[o("v-icon",[t._v("mdi-printer")])],1),t._v(" "),o("v-btn",{attrs:{icon:"",color:"white"}},[o("v-icon",[t._v("mdi-clipboard-text-search-outline")])],1),t._v(" "),o("v-btn",{attrs:{icon:"",color:"white"}},[o("v-icon",[t._v("mdi-email")])],1),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{attrs:{small:"",fab:"",dark:"",color:"red"},on:{click:function(e){return t.closePdf()}}},[o("v-icon",{attrs:{dark:""}},[t._v("mdi-close")])],1)],1),t._v(" "),o("div",{staticClass:"contenedor"},[o("iframe",{staticClass:"estiloPdf",attrs:{src:t.pdfSrc}})])],1)],1)}),[],!1,null,"191521d4",null).exports;var f=o(629);function p(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function b(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(Object(o),!0).forEach((function(e){g(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function g(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const _={data:function(){return{mxCurrencyFormat:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),headers:[{text:"Nombre(s)",value:"name"},{text:"Monto del préstamo",value:"base_amount"},{text:"Fecha",value:"application_date"},{text:"Plazo",value:"term"},{text:"Estado",value:"state"},{text:"Acción",value:"accion"},{text:"ID",value:"id"}],search:"",listStates:[{title:"Revisar préstamo",icon:"mdi-magnify",id:1},{title:"Aceptar préstamo",icon:"mdi-check",id:2},{title:"Rechazar préstamo",icon:"mdi-close",id:3}],isBtnSearchTools:!1,searchState:""}},methods:{colorRow:function(t){var e="No";return"Pendiente"==t.state&&(e="colorPendiente"),"Revisión"==t.state&&(e="colorRevision"),"Activo"==t.state&&(e="colorActivo"),"Vencido"==t.state&&(e="colorVencido"),"Congelado"==t.state&&(e="colorCongelado"),"Pagado"==t.state&&(e="colorPagado"),"Rechazado"==t.state&&(e="colorRechazado"),e},iconState:function(t){var e="";return"Pendiente"==t.name&&(e="mdi-clock-outline"),"Revisión"==t.name&&(e="mdi-magnify"),"Activo"==t.name&&(e="mdi-access-point"),"Vencido"==t.name&&(e="mdi-exclamation"),"Congelado"==t.name&&(e="mdi-snowflake-alert"),"Pagado"==t.name&&(e="mdi-check"),"Rechazado"==t.name&&(clase="mdi-close"),e},showTools:function(){this.isBtnSearchTools=!this.isBtnSearchTools,this.searchState=""},filterSearchText:function(t){return t.name.toLowerCase().includes(this.search.toLowerCase())},filterStateText:function(t){return t.state.toLowerCase().includes(this.searchState.toLowerCase())}},computed:b(b(b({},(0,f.rn)({loans:function(t){return t.loansStore.loans}})),(0,f.rn)({loanStates:function(t){return t.loanStateStore.loanStates}})),{},{filters:function(){var t=[];return this.search&&t.push(this.filterSearchText),this.searchState&&t.push(this.filterStateText),t.length>0?this.loans.filter((function(e){return t.every((function(t){return t(e)}))})):this.loans}}),components:{DialogActionsLoans:h},created:function(){this.$store.dispatch("getLoans"),this.$store.dispatch("getStates")}};var k=o(8792),S={insert:"head",singleton:!1};d()(k.Z,S);k.Z.locals;const y=(0,m.Z)(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"p-3"},[o("v-card",[o("v-card-title",{staticClass:"black"},[o("span",{staticClass:"white--text"},[t._v("Lista de clientes")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar...",solo:"","single-line":"","hide-details":"",dense:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{staticClass:"ma-2",attrs:{id:"btnHerramientas"},on:{click:t.showTools}},[t._v("Herramientas de búsqueda\n            "),o("v-icon",[t._v("mdi-menu-down")])],1)],1),t._v(" "),t.isBtnSearchTools?o("v-card-actions",{staticClass:"contenedorHerramientas"},[o("v-select",{staticClass:"cbBusqueda",attrs:{label:"Seleccionar Estado",items:t.loanStates,"item-text":"name",solo:"","hide-details":"",dense:""},model:{value:t.searchState,callback:function(e){t.searchState=e},expression:"searchState"}}),t._v(" "),o("v-spacer"),t._v(" "),o("v-select",{staticClass:"cbBusqueda",attrs:{label:"Seleccionar Nivel",solo:"","hide-details":"",dense:""}}),t._v(" "),o("v-spacer")],1):t._e(),t._v(" "),o("v-data-table",{attrs:{headers:t.headers,items:t.filters,search:t.search,"show-select":"","item-class":t.colorRow},scopedSlots:t._u([{key:"item.name",fn:function(e){var o=e.item;return[t._v("\n                "+t._s(o.last_name+" "+o.name)+"\n            ")]}},{key:"item.state",fn:function(e){var a=e.item;return[t._v("\n                "+t._s(a.state)+"\n                "),o("v-menu",{attrs:{top:"",offset:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[o("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",n,!1),a),[o("v-icon",[t._v("mdi-pencil")])],1)]}}],null,!0)},[t._v(" "),o("v-list",t._l(t.listStates,(function(e,a){return o("v-list-item",{key:a,attrs:{link:"",dense:""}},[o("v-icon",[t._v(t._s(e.icon))]),t._v(" "),o("v-list-item-title",[t._v("\n                                "+t._s(e.title)+"\n                            ")])],1)})),1)],1)]}},{key:"item.base_amount",fn:function(e){var o=e.item;return[t._v("\n                "+t._s(t.mxCurrencyFormat.format(o.base_amount))+"\n            ")]}},{key:"item.term",fn:function(e){var o=e.item;return[t._v("\n                "+t._s(o.term+" días")+"\n            ")]}},{key:"item.accion",fn:function(e){e.item;return[o("v-btn",{attrs:{icon:""}},[o("v-icon",[t._v("mdi-eye")])],1)]}}])})],1),t._v(" "),o("DialogActionsLoans")],1)}),[],!1,null,null,null).exports}}]);